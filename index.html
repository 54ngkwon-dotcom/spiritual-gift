<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>은사 발견 익스페디션 v31.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@700;900&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        :root { --p: #3B82F6; }
        /* 구역별 테마: 시인성 최적화 */
        .zone-0 { --bg:#F0F9FF; --c:#FFFFFF; --t:#1E3A8A; } 
        .zone-1 { --bg:#064E3B; --c:#14532D; --t:#FFFFFF; }
        .zone-2 { --bg:#FFF7ED; --c:#FFFFFF; --t:#7C2D12; } 
        .zone-3 { --bg:#F5F3FF; --c:#FFFFFF; --t:#4C1D95; }
        .zone-4 { --bg:#FFFBEB; --c:#FFFFFF; --t:#78350F; } 
        .zone-5 { --bg:#1E293B; --c:#334155; --t:#FFFFFF; }
        .zone-6 { --bg:#0F172A; --c:#1E293B; --t:#FFFFFF; }

        body { font-family: 'Noto Sans KR', sans-serif; background-color: var(--bg); color: var(--t); margin: 0; transition: all 0.6s ease; overflow-x: hidden; }
        .serif { font-family: 'Noto Serif KR', serif; }
        .card-ui { background-color: var(--c) !important; color: var(--t) !important; border-radius: 2.5rem; box-shadow: 0 20px 50px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05); }
        
        .ans-btn { transition: all 0.2s; font-weight: 700; cursor: pointer; border: none; border-radius: 1.25rem; width: 100%; padding: 1.25rem; margin-bottom: 1rem; display: block; text-align: center; }
        .ans-btn:active { transform: scale(0.96); }
        .g0 { background: #F1F5F9; color: #64748B; border: 1px solid #E2E8F0; }
        .g1 { background: linear-gradient(135deg, #FFEDD5 0%, #FED7AA 100%); color: #9A3412; }
        .g2 { background: linear-gradient(135deg, #DCFCE7 0%, #BBF7D0 100%); color: #166534; }
        .g3 { background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); color: #1E40AF; border: 1px solid #60A5FA; }

        .profile-input { width: 100%; padding: 1.25rem; border-radius: 1rem; border: 2px solid #CBD5E1; background-color: #FFFFFF !important; color: #0F172A !important; font-weight: 700; margin-bottom: 1rem; box-shadow: inset 0 2px 4px rgba(0,0,0,0.05); }
        .env-icon { position: fixed; font-size: 10rem; opacity: 0.15; z-index: 0; pointer-events: none; }
        @keyframes sw{0%,100%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}} .sway{animation:sw 6s infinite ease-in-out}
        
        #ui-header, #scr-quiz, #scr-rest, #scr-profile, #scr-result { display: none; }
    </style>

    <script>
        // --- 133개 전수 데이터 (누락된 116번 사도 문항 복구 완료) ---
        const Q_DATA = ["교회의 한 기관이나 한 행사를 맡아서 총괄 계획하고 편성 진행하는 일을 잘 한다.", "피부색이나 문화권이 다르더라도 잘 어울려 살 수 있다.", "물건을 잘 만지며 고치고 관리하는 일이 어렵지 않다.", "하나님에 대한 나의 생각과 느낌을 예술의 형태를 이용하여 표현하는 것을 좋아한다.", "영적인 것처럼 들리는 말에 숨어있는 잘못된 동기들을 알아챈 적이 자주 있다.", "나는 다른 사람이 곤란과 좌절에서 벗어날 수 있도록 격려하고 돕는다.", "나와 예수 그리스도의 관계에 대하여 불신자들과 말하는 것이 어렵지 않다.", "다른 성도들이 불가능하다고 생각하는 일을 위해 기도하면서 믿고 행동하는 것이 자연스럽다.", "주님으로 인해 나의 돈과 소유물을 나누어 주는 일이 자주 있다.", "앞장서서 사역하는 사람들을 뒤에서 보이지 않게 돕는 것을 잘한다.", "불시에 찾아오는 손님들도 반갑게 맞이하고 음식과 잠자리를 제공하는 것이 기쁘다.", "기도 부탁을 받으면 이를 위해 쉬지 않고 기도한다.", "성경의 요점과 중심사상을 이해하도록 내가 돕고 있다고 사람들은 내게 말한다.", "다른 사람들이 자신의 목표를 달성할 수 있도록 고무시킬 수 있다.", "몸과 마음의 장애로 고통받는 사람들과 공감하며 도움을 주려고 애쓴다.", "사람들로 하여금 자신의 잘못을 깨닫고 삶의 변화를 가져오도록 얘기해 줄 수 있다.", "남을 돌보거나 양육하는 일에 자원해서 시간을 쓴다.", "하나님의 말씀을 효과적으로 전할 수 있다.", "개인적인 다양한 삶의 문제나 혹은 영적인 문제에 관한 충고의 부탁을 종종 받는다.", "체계적으로 세부적인 면을 다루는 데 철저하고 신중하며 능숙하다.", "다른 나라나 지역, 다른 인종 공동체에서 사역하는 일에 흥미도 있고 도울 수 있다.", "여러 종류의 연장을 잘 다룬다.", "미술, 연극, 음악, 사진 등의 예술적인 기술을 개발하고 사용하는 것을 좋아한다.", "첫인상으로 사람들의 성격을 잘 파악한다.", "낙심한 사람들을 격려하고 자신감을 회복시켜 주기를 좋아한다.", "불신자들과 사귈 수 있는 기회를 항상 찾는다.", "환란 중에서도 하나님께서 도우시고 공급하시는 것을 확신한다.", "하나님 나라의 사역을 위해 십일조 이상의 헌금을 한다.", "큰일 뒤에 소홀히 여길 수 있는 세부적이고 일상적인 일들이 눈에 잘 띈다.", "새로운 사람들을 만나고 그들이 환영받는다는 느낌을 주는 일들이 즐겁다.", "오랫동안 기도하며 하나님이 원하시는 기도를 하도록 인도하여 주시는 것을 자주 경험한다.", "자연적으로 알 수 없는 어떠한 사실을 성령님으로부터 받아 알게 될 때가 있다.", "다른 이들이 목표를 달성할 수 있도록 영향을 줄 수 있다.", "어려움을 겪고 있는 이들이 다시 안정을 되찾는 동안 인내심을 가지고 도울 수 있다.", "다른 사람들에게 진실을 밝히게 하는 것이 나의 의무라는 느낌을 받는다.", "방황하고 있는 신자들을 동정하며 그들을 감싸주고 책임져주고 싶다.", "진리가 사람의 삶에 변화를 가져올 수 있는 것을 알기 때문에 배우는데 시간을 투자할 수 있다.", "갈등이나 혼돈 가운데서 종종 간단하고도 실질적인 해결책을 발견할 때가 많다.", "어떤 목표를 세우고 이를 이루기 위한 계획이나 방안을 수립할 수 있다.", "개척교회같이 새롭게 출발하는 사역을 세우는 데 기꺼이 일익을 담당할 수 있다.", "사역에 필요한 물건을 만들기를 좋아한다.", "사람들이 자기 자신에 대한 이해, 사람들과의 관계, 그리고 하나님에 관해 보다 잘 이해할 수 있도록 예술적 표현을 통해서 돕는다.", "다른 사람들보다 먼저 거짓이나 가식을 잘 꿰뚫어 볼 수 있다.", "다른 사람들에게 하나님의 약속을 상기시켜 줌으로써 소망을 얻게 한다.", "복음의 핵심을 개인의 필요에 따라 적절히 응용하는 일을 잘 한다.", "큰 일을 성취하도록 하나님이 나를 도우시리라고 확신한다.", "더 많은 구제헌금을 하기 위해 돈 관리를 잘 한다.", "다른 사람들을 돕기 위해 기꺼이 교회 안팎의 잡일들을 스스로 하게 된다.", "다른 사람과 연결이 필요한 사람들을 하나님께서 내게로 보내신다고 진심으로 믿는다.", "나는 기도할 때 이 일이 다른 사람을 위해 중요한 사역하는 것이라고 인식한다.", "성경을 정확하고 온전히 이해하기 위하여 성경을 읽고 공부하는 일이 즐겁고 그런 일을 위해 시간을 따로 할당한다.", "다른 사람들이 능력을 최대한 발휘할 수 있게 하기 위해 필요에 따라 지도방법을 변경시킬 수 있다.", "구제불능 또는 가치가 없다고 여겨지는 사람들을 돕는 일이 즐겁다.", "성경적 원리에 어긋나는 문화적 추세나 가르침, 행사들을 담대하게 지적한다.", "그리스도인의 모임을 영적으로 인도하고 방향을 제시해 주는 일이 그리 두렵지 않고 사람들도 나를 신뢰하며 주의깊게 듣고 행하는 편이다.", "가르치는 사람의 말, 어구, 내용 등에 대해 세심히 관심을 집중한다.", "여러 가능한 방안 중에서 가장 효과적인 방안을 쉽게 골라낼 수 있다.", "어떤 일을 하는 데 필요한 자원을 찾아내고 활용하는 일을 할 수 있다.", "다른 문화나 새롭게 바뀌어진 환경에서 일 할 때 잘 적응한다.", "어떤 것을 만들기 이전에 이것이 어떻게 완성되어질 것인가를 쉽게 연상해 볼 수 있다.", "주님을 전할 수 있는 새롭고 참신한 방법(드라마, 음악, 그림, 그래픽)을 찾기 좋아한다.", "어떤 상황에서 옳고 그름을 잘 분간하는 편이다.", "믿음 생활, 가정 생활 또는 전체 삶 가운데 용단을 내려야 할 필요가 있는 사람들에게 그렇게 하는 것에 대한 확신을 줄 수 있다.", "믿지 않는 이들에게 주님을 영접하도록 권한다.", "인간의 노력만으로는 성공이 보장되지 않는 상황에서 하나님을 의지한다.", "소득의 더 많은 부분을 헌금할 수 있도록 내 생활 방식을 절제해야겠다는 도전을 받는다.", "실제적인 작은 일 가운데서 영적인 의미를 발견한다.", "사람들이 외롭지 않다는 느낌을 가질 수 있는 장소를 만들고 싶다.", "기도에 응답하시는 하나님이신 것을 믿기 때문에 확신을 가지고 계속 기도한다.", "통찰력이 있고 진실을 금방 알 수 있다.", "목표를 세우고 이를 이루기 위해 사람이나 자원을 효과적으로 잘 사용한다.", "고통받고 있는 사람들에게 커다란 연민의 감정을 느껴서 고통스럽다.", "대부분의 행동을 옳고 그름의 견지에서 보게 되는 때가 많으며, 그릇된 것을 바로 잡아야 하겠다는 필요를 절실히 느낀다.", "내가 맡은 그리스도인 모임의 영적인 건강을 책임지는 일이 즐겁다.", "내가 알고 있는 것을 재미있게 전할 수 있는 능력이 있는 것 같다.", "누군가가 문제에 봉착하면 나는 그들에게 가장 성서적인 해결책을 제시한다.", "어떤 기관이나 사역이 보다 효과적이고 효율적으로 될 수 있는 방안을 늘 중요시한다.", "새로운 사람들을 대할 때 그들의 문화에 대해 빨리 이해하고 세심한 배려를 할 수 있다.", "나의 손재주를 통해 사람들을 돕고 하나님의 일에 활력을 불어넣는다.", "하나님의 진리를 전하기 위해 여러 형태의 예술을 도입한다.", "나의 통찰력이나 관찰력을 사람들이 인정한다.", "믿음이 흔들리고 있는 이들을 크게 위로하며 강건케 한다.", "내가 기독교인인 것을 드러내고 말하며 불신자들이 내 믿음에 관해 물어오기를 원한다.", "하나님이 내 삶 속에 매일 함께 하시며 역사하시는 것을 확신한다.", "하나님의 일을 하는 사람들의 삶과 사역에 내 헌금이 큰 도움이 된다는 것을 늘 감사한다.", "해야 할 잡다한 일들을 잘 찾아내며 부탁 받지 않더라도 종종 그러한 일들을 하곤 한다.", "사람들 접대하기를 좋아하며 내 집을 다른 사람들에게 제공한다.", "도움이 필요한 경우의 이야기를 들으면 기도해야 되겠다는 강한 느낌을 받는다.", "교회 지체들 안에 매우 유용한 사실이 나중에 입증되는 어떤 생각을 내가 가장 먼저 추진한 적이 있다.", "자신의 능력을 최대한 발휘하도록 다른 이들에게 영향을 준다.", "어떤 사람의 고난이나 문제 이면에 하나님께서 진정 중요하게 여기시는 삶이 있는 것을 알 수 있다.", "정직하고 바른 말을 하는 사람들을 좋아한다.", "맡겨진 소그룹의 사람들에게 도움을 주고 지침을 주는 것을 즐긴다.", "사람들로 하여금 더 배우고 공부하고 싶은 마음이 생기도록 말씀을 통하여 도전을 줄 수 있다.", "복잡한 문제를 해결할 수 있는 실질적인 조언을 준다.", "한 기관이 어떻게 운영되고 있는지 구조나 조직을 배우기를 좋아한다.", "새로운 일을 시작할 때 오히려 호기심과 창의성이 생기며 좋아한다.", "손으로 하는 일을 잘하며 좋아한다.", "창조적이며 상상력이 풍부하다.", "성경에 위배되는 가르침이나 설교, 말씀을 분간할 수 있다.", "영적인 성장을 위해 무언가 하고 싶은 마음을 사람들에게 불어 넣기를 좋아한다.", "불신자들에게 예수님이 내게 어떠한 일을 하셨는지 담대하게 자주 말한다.", "다른 이들이 하나님을 신뢰하도록 계속 도전을 준다.", "청지기로서의 삶에 대한 결단을 통해서 풍성히 헌금한다.", "남들이 좀 더 효과적으로 일할 수 있도록 뒤에서 돕는 보조자의 역할도 기꺼이 자주 한다.", "다른 이들이 소속감을 느낄 수 있도록 힘껏 노력한다.", "기도 부탁을 받으면 영광으로 생각한다.", "말씀을 읽거나 공부할 때 그리스도의 몸에 속한 다른 이들에게 유익을 주는 성경적인 진리를 발견하게 된다.", "다른 이들이 공감하는 비전을 제시할 수 있다.", "어려운 상황 중에 있는 사람들에게 소망과 기쁨을 주기를 좋아한다.", "쉽게 받아들여지지 않거나 잘 환영을 받지 않는 장소에서라도 하나님의 진리를 선포하겠다.", "방황하는 신자들이 성도의 교제와 믿음을 되찾을 수 있도록 자연스럽게 인도할 수 있다.", "어떤 지식이나 기술을 상대방이 알아듣고 적용하기 쉽게 가르쳐 줄 수 있다.", "사람들이 실제 도움이 된다고 여겨지도록 성경의 진리를 적용할 수 있는 말을 해준다.", "앞의 행사를 미리 그려보고 가능한 문제들을 예상하여 대안을 만들어 낼 수 있다.", "교회의 여러 사역을 총괄 지휘할 수 있다.", "다른 문화권이나 다른 지역의 사람들에게 복음을 전하는 일에 깊은 열망을 가지고 있다.", "사역이나 교회에 도움이 되는 물건을 구상하고 만들 수 있다.", "명상하며 상상력이 키우기 위한 혼자만의 시간이 가끔 필요하다.", "어떤 사람이나 환경에서 마귀가 역사하고 있음을 잘 감지할 수 있다.", "사람들을 영적으로 성장시키기 위해 도전을 주거나 꾸짖어 바로 세울 수 있다.", "믿지 않는 사람들과 영적인 문제에 관한 얘기할 수 있는 기회를 찾는다.", "하나님이 축복하시는 일이라고 생각하면 반대나 비협조를 무릅쓰고라도 추진할 수 있다.", "하나님의 일을 위해 더 많이 드리기 위하여 내게 자원을 허락하셨다고 믿는다.", "도움이 필요할 때마다 선천적인 혹은 후천적인 기술을 늘 기꺼이 사용한다.", "낯선 환경 중에서라도 사람들로 하여금 편안하게 느낄 수 있도록 만들 수 있다.", "내 기도의 직접적인 응답으로 구체적인 결과가 오는 것을 자주 본다.", "나는 성경적인 진리를 알기 위해서 많은 독서와 공부를 한다.", "목적지가 어딘지를 파악하고 사람들이 그곳에 도달할 수 있도록 잘 돕는다.", "어려워서 도움이 필요한 사람들에게 실제적인 도움을 주는 것을 좋아한다.", "죄를 볼 때마다 이것을 드러내고 그들이 회개하도록 도전하지 않으면 안 된다고 느끼며 행동한다.", "사람들이 신자로서 성장할 수 있도록 참을성 있게 그러나 흔들림 없이 양육하는 것을 좋아한다.", "다른 이들이 영적으로 또한 개인적으로 성장할 수 있도록 어떤 일들을 설명해 주는 것을 좋아한다.", "다른 사람들이 보지 못하는 문제의 해결책에 대한 통찰력이 있다."];

        const GIFTS = [{n:"다스림(기획)", e:"📋"}, {n:"사도", e:"✈️"}, {n:"재주(제작)", e:"🛠️"}, {n:"예능/창의", e:"🎨"}, {n:"영분별", e:"⚖️"}, {n:"권면(위로)", e:"💛"}, {n:"전도", e:"📢"}, {n:"믿음", e:"⚓"}, {n:"구제/헌금", e:"🎁"}, {n:"돕는 은사", e:"🤝"}, {n:"대접/친절", e:"🏡"}, {n:"중보기도", e:"🙏"}, {n:"지식", e:"📖"}, {n:"지도력", e:"🧭"}, {n:"긍휼", e:"❤️"}, {n:"예언", e:"🔥"}, {n:"목양", e:"🌿"}, {n:"가르침", e:"📚"}, {n:"지혜", e:"💡"}];

        let cur = 0; let ans = new Array(133).fill(null);

        window.startQuest = function() {
            document.getElementById('scr-intro').style.display = 'none';
            document.getElementById('ui-header').style.display = 'flex';
            document.getElementById('scr-quiz').style.display = 'block';
            window.render();
        };

        window.render = function() {
            const zi = Math.floor(cur/19);
            const ZN = [{t:"zone-0",n:"Meadow",i:["🌿","🌸"]}, {t:"zone-1",n:"Forest",i:["🌲","🌳"]}, {t:"zone-2",n:"Valley",i:["⛰️","🦅"]}, {t:"zone-3",n:"River",i:["🌊","🐟"]}, {t:"zone-4",n:"Hill",i:["☀️","🌻"]}, {t:"zone-5",n:"Wall",i:["🏰","🛡️"]}, {t:"zone-6",n:"Tower",i:["✨","🌌"]}];
            document.body.className = ZN[zi].t;
            document.getElementById('ui-zt').innerText = `ZONE ${zi+1}: ${ZN[zi].n}`;
            document.getElementById('env-1').innerText = ZN[zi].i[0];
            document.getElementById('env-2').innerText = ZN[zi].i[1];
            document.getElementById('ui-idx-now').innerText = cur + 1;
            document.getElementById('ui-q-text').innerText = Q_DATA[cur];
            document.getElementById('ui-bar').style.width = (cur + 1) / 133 * 100 + "%";
        };

        window.pick = function(v) {
            ans[cur] = v;
            if ((cur + 1) % 19 === 0 && cur < 132) window.showRest();
            else if (cur < 132) { cur++; window.render(); }
            else window.showProfile();
        };

        window.showRest = function() {
            document.getElementById('scr-quiz').style.display = 'none';
            document.getElementById('scr-rest').style.display = 'block';
        };

        window.resume = function() {
            document.getElementById('scr-rest').style.display = 'none';
            document.getElementById('scr-quiz').style.display = 'block';
            cur++; window.render();
        };

        window.showProfile = function() {
            document.getElementById('ui-header').style.display = 'none';
            document.getElementById('scr-quiz').style.display = 'none';
            document.getElementById('scr-profile').style.display = 'block';
        };

        window.finish = function() {
            const n = document.getElementById('u-n').value;
            const b = document.getElementById('u-b').value;
            const p = document.getElementById('u-p').value;
            if(!n || !b || !p) { alert("모든 항목을 입력해주세요."); return; }

            let sc = new Array(19).fill(0);
            ans.forEach((v, i) => { sc[i % 19] += (v || 0); });

            let allRes = GIFTS.map((g, i) => ({ name: g.n, score: sc[i], emoji: g.e }))
                              .sort((a, b) => b.score - a.score);

            let valid = allRes.filter(g => g.score >= 10);
            let highScores = valid.filter(g => g.score >= 15);
            let displayGifts = (highScores.length >= 3) ? highScores.slice(0, 7) : valid.slice(0, 3);
            let gap = allRes[0].score - allRes[1].score;

            // --- [핵심: 스프레드시트 자동 전송] ---
            const scriptURL = 'https://script.google.com/macros/s/AKfycbzajBZMjwmERcNb7AYhfspr0MBQGhiCwmRk6EeZmSCHLLE9_RCJdjGSwIvKg0VF_NgNBw/exec'; 
            const payload = {
                name: n, birth: b, phone: p,
                topGifts: displayGifts.map(g => g.name + "(" + g.score + ")"),
                gap: gap + "점",
                allData: allRes.map(g => g.name + ":" + g.score).join(", ")
            };
            fetch(scriptURL, { method: 'POST', body: JSON.stringify(payload) })
            .catch(err => console.error('Auto-log failed', err));

            document.getElementById('res-top-list').innerHTML = displayGifts.map((g, i) => `
                <div class="flex justify-between items-center bg-blue-50 p-5 rounded-2xl mb-3 border border-blue-100 shadow-sm">
                    <span class="font-bold text-blue-900 text-lg">${i+1}위: ${g.emoji} ${g.name}</span>
                    <span class="font-black text-blue-600 text-xl">${g.score}점</span>
                </div>
            `).join('');

            const mailBody = encodeURIComponent(`이름: ${n}\n생년: ${b}\n연락처: ${p}\n\n■ 은사 분석\n${displayGifts.map((g,i)=>`${i+1}위: ${g.name}(${g.score}점)`).join('\n')}\n\n1-2위 점수차: ${gap}점`);
            window.sendMail = () => { window.location.href = `mailto:jalsanggin@hanmail.net?subject=[은사진단] ${n} 성도님 결과&body=${mailBody}`; };

            document.getElementById('scr-profile').style.display = 'none';
            document.getElementById('scr-result').style.display = 'block';

            new Chart(document.getElementById('giftChart'), {
                type: 'radar',
                data: {
                    labels: GIFTS.map(g => g.n),
                    datasets: [{ label: '은사 지수', data: sc, backgroundColor: 'rgba(59, 130, 246, 0.3)', borderColor: 'rgb(59, 130, 246)', borderWidth: 3, pointBackgroundColor: 'rgb(59, 130, 246)' }]
                },
                options: {
                    scales: { r: { angleLines: { color: 'rgba(0,0,0,0.1)' }, grid: { color: 'rgba(0,0,0,0.1)' }, pointLabels: { color: '#1E293B', font: { size: 11, weight: 'bold' } }, ticks: { display: false } } },
                    plugins: { legend: { display: false } }
                }
            });
        };

        window.saveAsImage = function() {
            const captureArea = document.getElementById('scr-result-capture');
            html2canvas(captureArea, { scale: 2, backgroundColor: "#F0F9FF" }).then(canvas => {
                const link = document.createElement('a');
                link.download = '나의_은사발견_리포트.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        };

        window.goP = function() { if (cur > 0) { cur--; window.render(); } };
        window.goN = function() { if (cur < 132 && ans[cur] !== null) { cur++; window.render(); } };
    </script>
</head>
<body class="zone-0">
    <div id="env-1" class="env-icon sway" style="top:10%;left:5%">🌿</div>
    <div id="env-2" class="env-icon sway" style="bottom:10%;right:5%;animation-delay:-3s">🌸</div>
    <div class="relative z-10 max-w-xl mx-auto min-h-screen flex flex-col p-6">
        <header id="ui-header" class="flex flex-col gap-4 mb-8">
            <div class="flex items-center justify-between">
                <button onclick="window.goP()" class="w-12 h-12 flex items-center justify-center bg-white rounded-2xl border font-bold text-xl text-blue-600 shadow-sm">←</button>
                <div class="text-center"><div id="ui-zt" class="text-[10px] font-black tracking-widest uppercase opacity-60">ZONE 1</div><div class="text-sm font-bold"><span id="ui-idx-now">1</span> / 133</div></div>
                <button onclick="window.goN()" class="w-12 h-12 flex items-center justify-center bg-white rounded-2xl border font-bold text-xl text-blue-600 shadow-sm">→</button>
            </div>
            <div class="w-full bg-black/10 h-2 rounded-full overflow-hidden"><div id="ui-bar" class="bg-blue-500 h-full transition-all duration-700" style="width: 0%"></div></div>
        </header>

        <main>
            <section id="scr-intro" class="py-20 text-center">
                <div class="text-8xl mb-10">🧭</div>
                <h1 class="serif text-4xl font-black mb-6">은사 발견 익스페디션</h1>
                <p class="opacity-70 mb-12 leading-relaxed px-6 text-lg text-gray-800">당신의 영적 강점을 발견하고 공동체를 아름답게 섬기세요.</p>
                <button onclick="window.startQuest()" class="w-full bg-blue-600 text-white py-6 rounded-3xl font-bold text-xl shadow-xl hover:bg-blue-700 transition">탐험 시작하기 →</button>
            </section>

            <section id="scr-quiz">
                <div id="q-card" class="card-ui p-10 mb-10 min-h-[220px] flex items-center justify-center text-center rounded-[2.5rem]">
                    <h2 id="ui-q-text" class="text-2xl font-bold leading-tight"></h2>
                </div>
                <button onclick="window.pick(0)" class="ans-btn g0">전혀 그렇지 않다</button>
                <button onclick="window.pick(1)" class="ans-btn g1">가끔 그렇다</button>
                <button onclick="window.pick(2)" class="ans-btn g2">자주 그렇다</button>
                <button onclick="window.pick(3)" class="ans-btn g3">매우 그렇다</button>
            </section>

            <section id="scr-rest" class="py-20 text-center">
                <div class="text-8xl mb-10">🏕️</div>
                <h2 class="serif text-3xl font-black mb-6" style="color: var(--t) !important;">잠시 쉬어가세요</h2>
                <p class="mb-12 px-6 text-lg font-bold" style="color: var(--t) !important; opacity: 0.8;">관문을 통과하셨군요! 🌿<br>당신의 은사가 더 선명하게 드러나고 있습니다.</p>
                <button onclick="window.resume()" class="w-full bg-blue-600 text-white py-6 rounded-3xl font-bold text-xl shadow-lg">여정 계속하기 →</button>
            </section>

            <section id="scr-profile" class="py-10">
                <h2 class="serif text-3xl font-black text-center mb-10">봉사자 프로필</h2>
                <div class="bg-white p-10 rounded-[2.5rem] shadow-xl border flex flex-col gap-4">
                    <input type="text" id="u-n" class="profile-input" placeholder="성함">
                    <input type="text" id="u-b" class="profile-input" placeholder="생년월일 (예: 19800101)">
                    <input type="text" id="u-p" class="profile-input" placeholder="연락처">
                    <button onclick="window.finish()" class="w-full bg-blue-600 text-white py-5 rounded-2xl font-bold text-lg shadow-lg mt-4">결과 리포트 보기</button>
                </div>
            </section>

            <section id="scr-result" class="py-10 text-center">
                <div id="scr-result-capture" class="p-4 rounded-[3rem] bg-transparent">
                    <div class="text-7xl mb-6">🏆</div>
                    <h2 class="serif text-3xl font-black mb-8 text-blue-600">나의 영적 강점 리포트</h2>
                    <div class="bg-white p-8 rounded-[2.5rem] shadow-xl border-4 border-blue-100 mb-10 text-left">
                        <p class="text-xs font-black text-blue-400 mb-6 uppercase tracking-widest text-center">Top Spiritual Gifts Summary</p>
                        <div id="res-top-list"></div>
                    </div>
                    <div class="bg-white p-8 rounded-[2.5rem] shadow-inner mb-10 border border-gray-100">
                        <canvas id="giftChart"></canvas>
                    </div>
                </div>
                <div id="capture-btn-group" class="flex flex-col gap-4 px-4 pb-20">
                    <button onclick="window.saveAsImage()" class="w-full bg-green-600 text-white py-4 rounded-2xl font-bold shadow-lg">결과 리포트 이미지로 저장</button>
                    <button onclick="window.sendMail()" class="w-full bg-indigo-600 text-white py-4 rounded-2xl font-bold shadow-lg">은사배치팀에 결과 공유하기</button>
                    <button onclick="location.reload()" class="text-gray-400 font-bold underline mt-4">다시 측정하기</button>
                </div>
            </section>
        </main>
    </div>
</body>
</html>
