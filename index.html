<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>은사 발견 익스페디션 v54.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --p: #1E40AF; --p-light: #3B82F6; }
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #F0F9FF; margin: 0; overflow-x: hidden; transition: background 0.6s ease; }
        
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* 지형 관문 테마 컬러 */
        .zone-1 { --bg:#E8F5E9; --t:#1B5E20; } .zone-2 { --bg:#E1F5FE; --t:#01579B; } 
        .zone-3 { --bg:#FFEBEE; --t:#B71C1C; } .zone-4 { --bg:#FFFDE7; --t:#F57F17; }
        .zone-5 { --bg:#F5F5F5; --t:#212121; } .zone-6 { --bg:#F3E5F5; --t:#4A148C; }
        .zone-7 { --bg:#1A237E; --t:#FFFFFF; }

        .card-ui { background: white; border-radius: 2.5rem; box-shadow: 0 15px 40px rgba(0,0,0,0.06); border: 1px solid rgba(0,0,0,0.05); }
        .ans-btn { transition: 0.2s; font-weight: 700; width: 100%; padding: 1.1rem; margin-bottom: 0.75rem; border-radius: 1.2rem; text-align: center; }
        .ans-btn:active { transform: scale(0.96); }
        .g0 { background: #F1F5F9; color: #64748B; } .g1 { background: #FFEDD5; color: #9A3412; }
        .g2 { background: #DCFCE7; color: #166534; } .g3 { background: #DBEAFE; color: #1E40AF; }

        /* Style 분석 UI */
        .style-connect-line { position: absolute; top: 50%; left: 12%; right: 12%; height: 3px; background: #E2E8F0; z-index: 0; transform: translateY(-50%); }
        .scale-btn { width: 3.2rem; height: 3.2rem; border-radius: 50%; z-index: 10; font-weight: 900; transition: 0.3s; position: relative; border: 4px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .s-v-1 { background: #EA580C; color: white; } .s-v-2 { background: #FFEDD5; color: #EA580C; } 
        .s-v-3 { background: #F1F5F9; color: #64748B; } .s-v-4 { background: #DBEAFE; color: #1E40AF; } 
        .s-v-5 { background: #1D4ED8; color: white; }
        .scale-btn.active { transform: scale(1.2); border-color: #1E293B; }

        /* 입력 공간 UI */
        .t-area { width: 100%; padding: 1.2rem; border-radius: 1.5rem; border: 2px solid #E2E8F0; font-size: 1rem; line-height: 1.6; outline: none; min-height: 180px; }
        .grid-select { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.6rem; padding-bottom: 1.5rem; }
        .chk-item { background: white; padding: 0.9rem 0.5rem; border-radius: 1.1rem; border: 1.5px solid #E2E8F0; font-size: 0.8rem; font-weight: 800; text-align: center; transition: 0.2s; cursor: pointer; color: #64748B; }
        .chk-item.selected { background: #1E40AF; border-color: #1E40AF; color: white; }

        /* 리포트 프리미엄 디자인 */
        .inbody-card { background: white; border-radius: 45px; overflow: hidden; max-width: 480px; margin: 0 auto; border: 1px solid #E2E8F0; position: relative; }
        .style-track { height: 28px; border-radius: 14px; position: relative; display: flex; align-items: center; padding: 0 4px; border: 1px solid rgba(0,0,0,0.1); }
        .track-energy { background: linear-gradient(to right, #EA580C, #F8FAFC 50%, #10B981); }
        .track-work { background: linear-gradient(to right, #8B5CF6, #F8FAFC 50%, #3B82F6); }
        .thumb-glow { width: 22px; height: 22px; border-radius: 50%; background: white; border: 4px solid #1E3A8A; box-shadow: 0 0 15px rgba(59, 130, 246, 0.8); position: absolute; transition: all 1s; }

        .gift-info-btn { width: 18px; height: 18px; background: #DBEAFE; color: #1E40AF; border-radius: 50%; display: inline-flex; items-center: center; justify-content: center; font-size: 10px; font-weight: 900; margin-left: 6px; cursor: pointer; }
        .tooltip-bubble { position: absolute; left: 50%; transform: translateX(-50%); width: 88%; background: #1E293B; color: white; padding: 18px; border-radius: 22px; font-size: 12px; line-height: 1.6; z-index: 1000; display: none; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }

        .view-all-btn { background-color: #1E3A8A; color: white; padding: 16px; border-radius: 20px; font-weight: 900; font-size: 0.9rem; width: 100%; margin-top: 25px; }
        #all-gifts-list { transition: max-height
